(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var c,a,r,i,o,s,d,j,u,l,b,O,h,p,x,f,m,g,C,y,S,v,w,F,k,N,D,_,I,E,R,T,L,U,z,H,G,q,A=n(0),P=n.n(A),W=n(13),B=n.n(W),J=(n(81),n(82),n(21)),K=n(9),M=n(28),Q=n(3),V=n(4),X=n(129),Y=n(23),Z=n.n(Y),$="http://localhost:3000/api/v1",ee="".concat($,"/restaurants"),te="".concat($,"/line_foods"),ne="".concat($,"/line_foods/replace"),ce="".concat($,"/orders"),ae=n(6),re="INITIAL",ie="LOADING",oe="OK",se=406,de={fetchState:re,restaurantsList:[]},je="FETCHING",ue="FETCH_SUCCESS",le=function(e,t){switch(t.type){case je:return Object(ae.a)(Object(ae.a)({},e),{},{fetchState:ie});case ue:return{fetchState:oe,restaurantsList:t.payload.restaurants};default:throw new Error}},be=n.p+"static/media/logo.152cdf65.png",Oe=n.p+"static/media/main-cover-image.05e2370c.png",he=n.p+"static/media/restaurant-image.d944356a.jpg",pe=n(1),xe=V.a.div(c||(c=Object(Q.a)(["\n  display: flex;\n  justify-content: flex-start;\n  padding: 8px 32px;\n"]))),fe=V.a.img(a||(a=Object(Q.a)(["\n  height: 90px;\n"]))),me=V.a.div(r||(r=Object(Q.a)(["\n  text-align: center;\n"]))),ge=V.a.img(i||(i=Object(Q.a)(["\n  height: 600px;\n"]))),Ce=V.a.div(o||(o=Object(Q.a)(["\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 150px;\n"]))),ye=V.a.div(s||(s=Object(Q.a)(["\n  width: 450px;\n  height: 300px;\n  padding: 48px;\n"]))),Se=V.a.img(d||(d=Object(Q.a)(["\n  width: 100%;\n"]))),ve=V.a.p(j||(j=Object(Q.a)(["\n  color: black;\n  font-size: 18px;\n"]))),we=V.a.p(u||(u=Object(Q.a)(["\n  color: black;\n  font-size: 12px;\n"]))),Fe=function(){var e=Object(A.useReducer)(le,de),t=Object(M.a)(e,2),n=t[0],c=t[1];return Object(A.useEffect)((function(){c({type:je}),Z.a.get(ee).then((function(e){return e.data})).catch((function(e){return console.error(e)})).then((function(e){return c({type:ue,payload:{restaurants:e.restaurants}})}))}),[]),Object(pe.jsxs)(A.Fragment,{children:[Object(pe.jsx)(xe,{children:Object(pe.jsx)(fe,{src:be,alt:"main logo"})}),Object(pe.jsx)(me,{children:Object(pe.jsx)(ge,{src:Oe,alt:"main cover"})}),Object(pe.jsx)(Ce,{children:n.fetchState===ie?Object(pe.jsxs)(A.Fragment,{children:[Object(pe.jsx)(X.a,{variant:"rect",width:450,height:300}),Object(pe.jsx)(X.a,{variant:"rect",width:450,height:300}),Object(pe.jsx)(X.a,{variant:"rect",width:450,height:300})]}):n.restaurantsList.map((function(e,t){return Object(pe.jsx)(J.b,{to:"/restaurants/".concat(e.id,"/foods"),style:{textDecoration:"none"},children:Object(pe.jsxs)(ye,{children:[Object(pe.jsx)(Se,{src:he}),Object(pe.jsx)(ve,{children:e.name}),Object(pe.jsx)(we,{children:"\u914d\u9001\u6599\uff1a".concat(e.fee,"\u5186 ").concat(e.time_required,"\u5206")})]})},t)}))})]})},ke=n(71),Ne=n(59),De=n.n(Ne),_e=n(63),Ie=n.n(_e),Ee="#02A457",Re="#e2e2e2",Te="#545454",Le="#eeeeee",Ue="24px",ze="16px",He="14px",Ge=V.a.p(l||(l=Object(Q.a)(["\n  color: ",";\n  font-size: ",";\n"])),Te,He),qe=V.a.div(b||(b=Object(Q.a)(["\n  display: flex;\n  width: 450px;\n  height: 180px;\n  border-width: 1px;\n  border-style: solid;\n  border-color: ",";\n  border-image: initial;\n  cursor: pointer;\n"])),Re),Ae=V.a.div(O||(O=Object(Q.a)(["\n  padding: 24px 16px;\n  width: 250px;\n"]))),Pe=V.a.div(h||(h=Object(Q.a)(["\n  height: 75px;\n"]))),We=V.a.div(p||(p=Object(Q.a)(["\n  margin-top: 16px;\n"]))),Be=V.a.img(x||(x=Object(Q.a)(["\n  width: 250px;\n"]))),Je=function(e){var t=e.food,n=e.onClickFoodWrapper,c=e.imageUrl;return Object(pe.jsxs)(qe,{onClick:function(){return n(t)},children:[Object(pe.jsxs)(Ae,{children:[t.name,Object(pe.jsx)(Pe,{children:Object(pe.jsx)(Ge,{children:t.description})}),Object(pe.jsxs)(We,{children:["\xa5",t.price]})]}),Object(pe.jsx)(Be,{src:c})]})},Ke=n(135),Me=n(136),Qe=n(132),Ve=V.a.button(f||(f=Object(Q.a)(["\n  cursor: pointer;\n  :hover {\n    opacity: 0.7;\n  }\n  :focus {\n    outline: 0;\n  }\n"]))),Xe=Object(V.a)(Ve)(m||(m=Object(Q.a)(["\n  width: 42px;\n  height: 42px;\n  border-radius: 50%;\n  border: none;\n  background-color: ",";\n"])),Le),Ye=Object(V.a)(Ve)(g||(g=Object(Q.a)(["\n  width: 390px;\n  background-color: black;\n  color: white;\n  border-style: none;\n  padding: 8px 16px;\n  font-size: ",";\n"])),ze),Ze=function(e){var t=e.isOpen,n=e.onClose,c=e.existingResutaurautName,a=e.newResutaurautName,r=e.onClickSubmit;return Object(pe.jsxs)(Ke.a,{open:t,onClose:n,maxWidth:"xs",children:[Object(pe.jsx)(Me.a,{children:"\u65b0\u898f\u6ce8\u6587\u3092\u958b\u59cb\u3057\u307e\u3059\u304b\uff1f"}),Object(pe.jsxs)(Qe.a,{children:[Object(pe.jsx)("p",{children:"\u3054\u6ce8\u6587\u306b ".concat(c," \u306e\u5546\u54c1\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\n          \u65b0\u898f\u306e\u6ce8\u6587\u3092\u958b\u59cb\u3057\u3066 ").concat(a," \u306e\u5546\u54c1\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002")}),Object(pe.jsx)(Ye,{onClick:r,children:"\u65b0\u898f\u6ce8\u6587"})]})]})},$e={fetchState:re,foodsList:[]},et="FETCHING",tt="FETCH_SUCCESS",nt=function(e,t){switch(t.type){case et:return Object(ae.a)(Object(ae.a)({},e),{},{fetchState:ie});case tt:return{fetchState:oe,foodsList:t.payload.foods};default:throw new Error}},ct=function(e){return Z.a.get(function(e){return"".concat($,"/restaurants/").concat(e,"/foods")}(e)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},at=n(133),rt=function(e){var t=e.onClick,n=e.isDisabled;return Object(pe.jsx)(Xe,{onClick:t,disabled:n,children:"\uff0b"})},it=function(e){var t=e.onClick,n=e.isDisabled;return Object(pe.jsx)(Xe,{onClick:t,disabled:n,children:"\u30fc"})},ot=n.p+"static/media/order-header.2bb2ab1f.png",st=V.a.img(C||(C=Object(Q.a)(["\n  width: 100%;\n  height: 350px;\n"]))),dt=V.a.div(y||(y=Object(Q.a)(["\n  padding: 0 8px 8px 8px;\n  height: 50px;\n"]))),jt=V.a.div(S||(S=Object(Q.a)(["\n  margin-right: auto;\n  display: flex;\n  padding: 0 16px;\n"]))),ut=V.a.div(v||(v=Object(Q.a)(["\n  margin: 0 8px;\n"]))),lt=V.a.div(w||(w=Object(Q.a)(["\n  padding-top: 10px;\n"]))),bt=V.a.div(F||(F=Object(Q.a)(["\n  display: flex;\n"]))),Ot=V.a.div(k||(k=Object(Q.a)(["\n  width: 300px;\n"]))),ht=V.a.div(N||(N=Object(Q.a)(["\n  padding-top: 4px;\n"]))),pt=function(e){var t=e.food,n=e.countNumber,c=e.isOpen,a=e.onClose,r=e.onClickCountUp,i=e.onClickCountDown,o=e.onClickOrder;return Object(pe.jsxs)(Ke.a,{open:c,onClose:a,children:[Object(pe.jsx)(st,{src:ot,alt:"order header"}),Object(pe.jsx)(Me.a,{children:t.name}),Object(pe.jsx)(Qe.a,{children:Object(pe.jsx)(dt,{children:Object(pe.jsx)(Ge,{children:t.description})})}),Object(pe.jsxs)(at.a,{children:[Object(pe.jsxs)(jt,{children:[Object(pe.jsx)(ut,{children:Object(pe.jsx)(it,{onClick:function(){return i()},isDisabled:n<=1})}),Object(pe.jsx)(ut,{children:Object(pe.jsx)(lt,{children:n})}),Object(pe.jsx)(ut,{children:Object(pe.jsx)(rt,{onClick:function(){return r()},isDisabled:n>=9})})]}),Object(pe.jsx)(Ye,{onClick:function(){return o()},children:Object(pe.jsxs)(bt,{children:[Object(pe.jsx)(Ot,{children:"".concat(n,"\u70b9\u3092\u6ce8\u6587\u306b\u8ffd\u52a0")}),Object(pe.jsx)(ht,{children:"\xa5".concat(n*t.price)})]})})]})]})},xt=n.p+"static/media/food-image.7a276d7b.jpg",ft=V.a.div(D||(D=Object(Q.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 32px;\n"]))),mt=V.a.div(_||(_=Object(Q.a)(["\n  padding-top: 24px;\n"]))),gt=Object(V.a)(De.a)(I||(I=Object(Q.a)(["\n  color: ",";\n"])),Ee),Ct=V.a.img(E||(E=Object(Q.a)(["\n  height: 90px;\n"]))),yt=V.a.div(R||(R=Object(Q.a)(["\n  display: flex;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  margin-bottom: 50px;\n"]))),St=V.a.div(T||(T=Object(Q.a)(["\n  margin: 16px;\n"]))),vt=function(e){var t=e.match,n=Object(A.useState)({isOpenOrderDialog:!1,selectedFood:null,selectedFoodCount:1,isOpenNewOrderDialog:!1,existingResutaurautName:"",newResutaurautName:""}),c=Object(M.a)(n,2),a=c[0],r=c[1],i=Object(A.useReducer)(nt,$e),o=Object(M.a)(i,2),s=o[0],d=o[1],j=Object(K.f)();Object(A.useEffect)((function(){d({type:et}),ct(t.params.restaurantsId).then((function(e){d({type:tt,payload:{foods:e.foods}})}))}),[]);var u=function(){var e;(e={foodId:a.selectedFood.id,count:a.selectedFoodCount},Z.a.post(te,{food_id:e.foodId,count:e.count}).then((function(e){return e.data})).catch((function(e){throw e}))).then((function(){return j.push("/orders")})).catch((function(e){if(e.response.status!==se)throw e;r(Object(ae.a)(Object(ae.a)({},a),{},{isOpenOrderDialog:!1,isOpenNewOrderDialog:!0,existingResutaurautName:e.response.data.existing_restaurant,newResutaurautName:e.response.data.new_restaurant}))}))},l=function(){var e;(e={foodId:a.selectedFood.id,count:a.selectedFoodCount},Z.a.put(ne,{food_id:e.foodId,count:e.count}).then((function(e){return e.data})).catch((function(e){throw e}))).then((function(){return j.push("/orders")}))};return Object(pe.jsxs)(A.Fragment,{children:[Object(pe.jsxs)(ft,{children:[Object(pe.jsx)(J.b,{to:"/restaurants",children:Object(pe.jsx)(Ct,{src:be,alt:"main logo"})}),Object(pe.jsx)(mt,{children:Object(pe.jsx)(J.b,{to:"/orders",children:Object(pe.jsx)(gt,{fontSize:"large"})})})]}),Object(pe.jsx)(yt,{children:s.fetchState===ie?Object(pe.jsx)(A.Fragment,{children:Object(ke.a)(Array(12).keys()).map((function(e){return Object(pe.jsx)(St,{children:Object(pe.jsx)(X.a,{variant:"rect",width:450,height:180},e)},e)}))}):s.foodsList.map((function(e){return Object(pe.jsx)(St,{children:Object(pe.jsx)(Je,{food:e,onClickFoodWrapper:function(e){return r(Object(ae.a)(Object(ae.a)({},a),{},{selectedFood:e,isOpenOrderDialog:!0}))},imageUrl:xt})},e.id)}))}),a.isOpenOrderDialog&&Object(pe.jsx)(pt,{isOpen:a.isOpenOrderDialog,food:a.selectedFood,countNumber:a.selectedFoodCount,onClickCountUp:function(){return r(Object(ae.a)(Object(ae.a)({},a),{},{selectedFoodCount:a.selectedFoodCount+1}))},onClickCountDown:function(){return r(Object(ae.a)(Object(ae.a)({},a),{},{selectedFoodCount:a.selectedFoodCount-1}))},onClickOrder:function(){return u()},onClose:function(){return r(Object(ae.a)(Object(ae.a)({},a),{},{isOpenOrderDialog:!1,selectedFood:null,selectedFoodCount:1}))}}),a.isOpenNewOrderDialog&&Object(pe.jsx)(Ze,{isOpen:a.isOpenNewOrderDialog,onClose:function(){return r(Object(ae.a)(Object(ae.a)({},a),{},{isOpenNewOrderDialog:!1}))},existingResutaurautName:a.existingResutaurautName,newResutaurautName:a.newResutaurautName,onClickSubmit:function(){return l()}})]})},wt=V.a.div(L||(L=Object(Q.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Ft=V.a.p(U||(U=Object(Q.a)(["\n  font-size: ",";\n  font-weight: bold;\n"])),Ue),kt=function(e){var t=e.restaurantId,n=e.restaurantName,c=e.restaurantFee,a=e.timeRequired,r=e.foodCount,i=e.price;return Object(pe.jsxs)(A.Fragment,{children:[Object(pe.jsxs)(wt,{children:[Object(pe.jsx)(De.a,{}),Object(pe.jsx)(J.b,{to:"/restaurants/".concat(t,"/foods"),children:n})]}),Object(pe.jsxs)(wt,{children:[Object(pe.jsx)(Ie.a,{}),a,"\u5206\u3067\u5230\u7740\u4e88\u5b9a"]}),Object(pe.jsxs)(wt,{children:[Object(pe.jsx)("p",{children:"\u5546\u54c1\u6570"}),Object(pe.jsx)("p",{children:r})]}),Object(pe.jsxs)(wt,{children:[Object(pe.jsxs)("p",{children:["\u5546\u54c1\u6570:",r]}),Object(pe.jsxs)("p",{children:["\xa5 ",i]})]}),Object(pe.jsxs)(wt,{children:[Object(pe.jsx)("p",{children:"\u914d\u9001\u6599"}),Object(pe.jsxs)("p",{children:["\xa5 ",c]})]}),Object(pe.jsxs)(wt,{children:[Object(pe.jsx)(Ft,{children:"\u5408\u8a08"}),Object(pe.jsxs)(Ft,{children:["\xa5 ",i+c]})]})]})},Nt=n(134),Dt={fetchState:re,postState:re,lineFoodsSummary:null},_t="FETCHING",It="FETCH_SUCCESS",Et="POSTING",Rt="POST_SUCCESS",Tt=function(e,t){switch(t.type){case _t:return Object(ae.a)(Object(ae.a)({},e),{},{fetchState:ie});case It:return{fetchState:oe,lineFoodsSummary:t.payload.lineFoodsSummary};case Et:return Object(ae.a)(Object(ae.a)({},e),{},{postState:ie});case Rt:return Object(ae.a)(Object(ae.a)({},e),{},{postState:oe});default:throw new Error}},Lt=V.a.div(z||(z=Object(Q.a)(["\n  display: flex;\n  justify-content: flex-start;\n  padding: 8px 32px;\n"]))),Ut=V.a.img(H||(H=Object(Q.a)(["\n  height: 90px;\n"]))),zt=V.a.div(G||(G=Object(Q.a)(["\n  display: flex;\n  justify-content: center;\n"]))),Ht=V.a.div(q||(q=Object(Q.a)(["\n  margin-bottom: 50px;\n"]))),Gt=function(){var e=Object(A.useReducer)(Tt,Dt),t=Object(M.a)(e,2),n=t[0],c=t[1];Object(A.useEffect)((function(){c({type:_t}),Z.a.get(te).then((function(e){return e.data})).catch((function(e){throw e})).then((function(e){return c({type:It,payload:{lineFoodsSummary:e}})}))}),[]);var a=function(){var e;c({type:Et}),(e={line_food_ids:n.lineFoodsSummary.line_food_ids},Z.a.post(ce,{line_food_ids:e.line_food_ids}).then((function(e){return e.data})).catch((function(e){return console.error(e)}))).then((function(){c({type:Rt})})),window.location.reload()};return Object(pe.jsxs)(A.Fragment,{children:[Object(pe.jsx)(Lt,{children:Object(pe.jsx)(J.b,{to:"/restaurants",children:Object(pe.jsx)(Ut,{src:be,alt:"main logo"})})}),Object(pe.jsx)(zt,{children:Object(pe.jsxs)("div",{children:[Object(pe.jsx)(Ht,{children:n.fetchState===ie?Object(pe.jsx)(Nt.a,{}):n.lineFoodsSummary&&Object(pe.jsx)(kt,{restaurantFee:n.lineFoodsSummary.restaurant.fee,restaurantName:n.lineFoodsSummary.restaurant.name,restaurantId:n.lineFoodsSummary.restaurant.id,timeRequired:n.lineFoodsSummary.restaurant.time_required,foodCount:n.lineFoodsSummary.count,price:n.lineFoodsSummary.amount})}),Object(pe.jsxs)("div",{children:[n.fetchState===oe&&n.lineFoodsSummary&&Object(pe.jsx)(Ye,{onClick:function(){return a()},disabled:n.postState===ie||n.postState===oe,children:function(){switch(n.postState){case ie:return"\u6ce8\u6587\u4e2d...";case oe:return"\u6ce8\u6587\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\uff01";default:return"\u6ce8\u6587\u3092\u78ba\u5b9a\u3059\u308b"}}()}),n.fetchState===oe&&!n.lineFoodsSummary&&Object(pe.jsx)("p",{children:"\u6ce8\u6587\u4e88\u5b9a\u306e\u5546\u54c1\u306f\u3042\u308a\u307e\u305b\u3093\u3002"})]})]})})]})};var qt=function(){return Object(pe.jsx)(J.a,{children:Object(pe.jsxs)(K.c,{children:[Object(pe.jsx)(K.a,{exact:!0,path:"/restaurants",children:Object(pe.jsx)(Fe,{})}),Object(pe.jsx)(K.a,{exact:!0,path:"/restaurants/:restaurantsId/foods",render:function(e){var t=e.match;return Object(pe.jsx)(vt,{match:t})}}),Object(pe.jsx)(K.a,{exact:!0,path:"/orders",children:Object(pe.jsx)(Gt,{})})]})})},At=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,138)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};B.a.render(Object(pe.jsx)(P.a.StrictMode,{children:Object(pe.jsx)(qt,{})}),document.getElementById("root")),At()},81:function(e,t,n){},82:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.9f8fdeaa.chunk.js.map